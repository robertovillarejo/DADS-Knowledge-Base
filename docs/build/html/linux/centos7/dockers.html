

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Docker &mdash; documentación de Base de conocimientos - 0.1</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Índice"
              href="../../genindex.html"/>
        <link rel="search" title="Búsqueda" href="../../search.html"/>
    <link rel="top" title="documentación de Base de conocimientos - 0.1" href="../../index.html"/>
        <link rel="up" title="&lt;no title&gt;" href="../index.html"/>
        <link rel="next" title="Instalación de MySQL en CentOS 7" href="mysql-conf.html"/>
        <link rel="prev" title="¿Qué es CoreOS?" href="coreos.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Base de conocimientos
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../description.html">Descripción</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html">Primeros pasos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">Uso</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../FAQs.html">Preguntas y Respuestas Frecuentes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">Licencia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../known-issues.html">Issues conocidos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contribuciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about-developer.html">Sobre el Desarrollador</a></li>
</ul>
<p class="caption"><span class="caption-text">Java</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../java/spring/spring-data.html">Spring Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java/spring/spring-data-reference.html">Spring Data Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java/maven/maven-guidelines.html">Líneamiento - Maven</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java/config/cer-config.html">Instalar certificado</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java/config/cer-config.html#update">Update</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java/arquitectura/componentes/plugins/mybatis/mybatis-gen-addon.html">Mybatis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java/jhipster/index.html">JHipster</a></li>
</ul>
<p class="caption"><span class="caption-text">Arquitectura</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arquitectura/rol-arquitecto.html">El Rol de El Arquitecto de Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../arquitectura/servicio-arquitectura.html">Servicios</a></li>
</ul>
<p class="caption"><span class="caption-text">Angular</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../angular/angular-config.html">Configuración de Angular para Ubuntu 16.04</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../angular/guideliness.html">Las mejores prácticas de desarrollo Angular JS las puedes consultar en:</a></li>
</ul>
<p class="caption"><span class="caption-text">Linux</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../admin/extend-vm.html">Extender LVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin/monitoring.html">Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache.html">Apache</a></li>
<li class="toctree-l1"><a class="reference internal" href="coreos.html">¿Qué es CoreOS?</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Docker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#que-es-docker">¿Que es Docker?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#instalacion-de-docker">Instalación de Docker.</a></li>
<li class="toctree-l3"><a class="reference internal" href="#aprendamos-sobre-las-imagenes-y-contenedores">Aprendamos sobre las imagenes y contenedores.</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ejecucion-de-la-imagen-whalesay">Ejecución de la imágen <em>&quot;whalesay&quot;</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#otros-comandos">Otros comandos.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mysql-conf.html">Instalación de MySQL en CentOS 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="postgresql-install.html">Instalación de PostgreSQL en CentOS 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="tomcat-conf.html">Instalación de Tomcat</a></li>
<li class="toctree-l1"><a class="reference internal" href="vagrant.html">Instalación y configuración de VAGRANT en CENTOS 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="vagrant.html#instalacion-de-apache-tomcat-7">Instalación de Apache Tomcat 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../checklist/after-install.html">Lista de verificación</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dockers/resources.html">Recursos de inicialización</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/hostname-conf.html">Configuración del Hostname</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/how-to-configure-apache-virtual-host.html">Pre-Requisitos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/how-to-configure-apache-virtual-host.html#crear-la-estructura-de-directorios">Crear la estructura de Directorios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/how-to-configure-apache-virtual-host.html#configurar-los-permisos">Configurar los permisos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/how-to-configure-apache-virtual-host.html#crear-las-paginas-demo-para-cada-virtual-host">Crear las páginas Demo para cada Virtual Host</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/how-to-configure-apache-virtual-host.html#crear-los-archivos-de-configuracion-para-cada-virtual-host">Crear los archivos de configuración para cada Virtual Host</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/how-to-configure-apache-virtual-host.html#crear-los-archivos-de-cada-virtual-host">Crear los archivos de cada Virtual Host</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/how-to-configure-apache-virtual-host.html#habilitar-los-archivos">Habilitar los Archivos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/how-to-configure-apache-virtual-host.html#probar-la-configuracion">Probar la configuración</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/installation-guidelines.html">Guías y Convenciones para Instalaciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/iptables-conf.html">Configuración de IPTABLES</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/java-install.html">Instalación de Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/linux-networking.html">Mostrar la interfaces de Red</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/mkdir.html">Crear estructura en una linea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/nmap.html">Escanear por IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/nmap.html#escanear-por-ip-y-puerto">Escanear por IP y Puerto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/nmap.html#scanear-por-protocolos">Scanear por protocolos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/scp.html">SCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/ssh-conf.html">Precondiciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/ssh-conf.html#generar-llave-privada-y-publica">Generar llave Privada y Pública</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/ssh-conf.html#copiar-la-llave-publica">Copiar la llave Pública</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/ssh-conf.html#referencias">Referencias</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/tar-zip.html">tar con gzip</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/tar-zip.html#tar-with-bzip2">tar with bzip2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/tar-zip.html#utilizar-tar-con-xz">Utilizar tar con xz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/tar-zip.html#utilizar-zip">Utilizar ZIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../principios/tar-zip.html#realizar-respaldo-del-sistema-linux-completo">Realizar respaldo del sistema LINUX - COMPLETO</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Base de conocimientos</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">&lt;no title&gt;</a> &raquo;</li>
        
      <li>Docker</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/linux/centos7/dockers.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="docker">
<span id="docker"></span><h1>Docker<a class="headerlink" href="#docker" title="Enlazar permanentemente con este título">¶</a></h1>
<blockquote>
<div><strong>Autor</strong> : Ivan Rodrigo Nievez Mondragon<strong>Correo</strong>: ivan.nievez&#64;infotec.mx</div></blockquote>
<div class="section" id="que-es-docker">
<span id="que-es-docker"></span><h2>¿Que es Docker?<a class="headerlink" href="#que-es-docker" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Docker es una tecnología de código abierto que le permite crear, ejecutar, probar e implementar aplicaciones distribuidas dentro de contenedores de software. Le permite empaquetar una aplicación en una unidad estandarizada para el desarrollo de software, que contiene todo lo que necesita para funcionar: código, tiempo de ejecución, herramientas y bibliotecas del sistema, etc. Docker le permite implementar las aplicaciones de forma rápida, fiable y sistemática, en cualquier entorno.
Además proporciona una capa adicional de abstracción y automatización de Virtualización a nivel de sistema operativo en Linux. Docker utiliza características de aislamiento de recursos del kernel de Linux, tales como cgroups y espacios de nombres (namespaces) para permitir que &quot;contenedores&quot; independientes se ejecuten dentro de una sola instancia de Linux, evitando la sobrecarga de iniciar y mantener máquinas virtuales.</p>
<div class="section" id="instalacion-de-docker">
<span id="instalacion-de-docker"></span><h3>Instalación de Docker.<a class="headerlink" href="#instalacion-de-docker" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para nuestra instalación, se tienen las siquientes consideraciones:</p>
<ul class="simple">
<li>Sistema operativo Fedora Core 23.</li>
<li>Versión del Kernel 4.7.7-100.fc23.x86_64</li>
<li>Instalación de Docker mediante dnf.</li>
</ul>
<p>Docker, ofrece dos tipos de instalación, una de ellas es mediante la configuración de un repositorio, la cual utilizaremos para este manual y una, mediante un script de shell.</p>
<p>Primero debes asegurarnos de que contamos con los paquetes del sistema actualizados, por tanto, debemos acceder a la consola con un usuario con privilegios de administrador o como root y ejecutar los siguientes comandos.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo dnf -y update
</pre></div>
</div>
<p>Una vez hecho lo anterior, configuraremos el repositorio de Docker.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo tee /etc/yum.repos.d/docker.repo <span class="s">&lt;&lt;-&#39;EOF&#39;</span>
<span class="s">[dockerrepo]</span>
<span class="s">name=Docker Repository</span>
<span class="s">baseurl=https://yum.dockerproject.org/repo/main/fedora/$releasever/</span>
<span class="s">enabled=1</span>
<span class="s">gpgcheck=1</span>
<span class="s">gpgkey=https://yum.dockerproject.org/gpg</span>
<span class="s">EOF</span>
</pre></div>
</div>
<p>Ahora instalamos Docker.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo dnf -y install docker-engine
</pre></div>
</div>
<p>Al terminar la instalación, habilitaremos el servicio de Docker, para que se inicie la próxima vez que iniciemos el sistema y levantamos el servicio, para poder utilizarlo.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo systemctl <span class="nb">enable</span> docker.service
$ sudo systemctl start docker
</pre></div>
</div>
<p>Ahora verificamos que todo este funcionando correctamente.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span> $ sudo docker run --rm hello-world

 Unable to find image <span class="s1">&#39;hello-world:latest&#39;</span> locally
 latest: Pulling from library/hello-world
 c04b14da8d14: Pull <span class="nb">complete</span>
 Digest: sha256:0256e8a36e2070f7bf2d0b0763dbabdd67798512411de4cdcf9431a1feb60fd9
 Status: Downloaded newer image <span class="k">for</span> hello-world:latest

 Hello from Docker!
 This message shows that your installation appears to be working correctly.

 To generate this message, Docker took the following steps:
  <span class="m">1</span>. The Docker client contacted the Docker daemon.
  <span class="m">2</span>. The Docker daemon pulled the <span class="s2">&quot;hello-world&quot;</span> image from the Docker Hub.
  <span class="m">3</span>. The Docker daemon created a new container from that image which runs the
     executable that produces the output you are currently reading.
  <span class="m">4</span>. The Docker daemon streamed that output to the Docker client, which sent it
     to your terminal.

 To try something more ambitious, you can run an Ubuntu container with:
  $ docker run -it ubuntu bash

 Share images, automate workflows, and more with a free Docker Hub account:
  https://hub.docker.com

 For more examples and ideas, visit:
  https://docs.docker.com/engine/userguide/
</pre></div>
</div>
<p>Por último, agregaremos a nuestro usurio al grupo <strong><em>docker</em></strong>, este grupo se crea en automático durante la instalación de Docker. Haciendo esto, podemos presindir del commando <strong><em>sudo</em></strong> para poder ejecutar <em>doker</em>.</p>
<p>La razón de haer esto, es por que el demonio (o servicio) de Docker, se liga a una instancia de socket TCP de Unix y por default este socket es propiedad del super usuario (root) y por eso tenemos que utilizar <em>sudo</em> para poder ejecutar el comando <em>docker</em>, esto se logra mediante:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo usermod -aG docker your_username<span class="sb">`</span>
</pre></div>
</div>
<p>Al agregar nuestro usuario al grupo, será necesario cerrar sesión y volver a loguearnos para que se apliquen los cambios y podamos ejecutar <em>docker</em> sin necesidad de <strong><em>sudo</em></strong>. Para verificarlo ejecuetamos el siguiente comando:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span> $ docker run --rm hello-world
</pre></div>
</div>
</div>
<div class="section" id="aprendamos-sobre-las-imagenes-y-contenedores">
<span id="aprendamos-sobre-las-imagenes-y-contenedores"></span><h3>Aprendamos sobre las imagenes y contenedores.<a class="headerlink" href="#aprendamos-sobre-las-imagenes-y-contenedores" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En Dockers, se manejan dos terminos <strong><em>&quot;imágenes&quot;</em></strong> y <strong><em>&quot;contenedores&quot;</em></strong>, una <strong><em>imágen</em></strong> es un sistema base o bien, una plantilla sobre la cual trabajaremos, por otro lado, un <strong><em>contenedor</em></strong> es la instancia de una <strong><em>imagen</em></strong> con la cual podremos ejecutar y trabajar en ella.
Gracias a Docker se puede trabajar con varias instancias de la misma <em>imágen</em> y cada una de ellas contar con sus propias configuraciones. Esto se logra atravez del siguiente comando:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker run hello-world
<span class="c1"># En donde:</span>
<span class="c1"># docker: comando de ejecución.</span>
<span class="c1"># run: subcomando que crea y ejecuta un contenedor de Docker</span>
<span class="c1"># hello-world: indica a Docker, la imágen a instanciar dentro del contenedor.</span>
</pre></div>
</div>
<p>Ahora que contamos con la instalación de Docker y conocemos algunos de sus conceptos básicos, relicemos un ejemplo.</p>
</div>
<div class="section" id="ejecucion-de-la-imagen-whalesay">
<span id="ejecucion-de-la-imagen-whalesay"></span><h3>Ejecución de la imágen <em>&quot;whalesay&quot;</em><a class="headerlink" href="#ejecucion-de-la-imagen-whalesay" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Como se ha mencionado anteriormente, las <em>imágenes</em> son sistemas base con los cuales podremos trabajar, Docker cuenta con un centro de imágenes llamado <a class="reference external" href="https://hub.docker.com/">Docker Hub</a>, en donde podemos encontrar platillas creadas por usuarios y oficiales por parte de algunos proveedores de software, por ejemplo para Apache Tomcat, Glassfish, Fedora, Ubuntu, CentOS, entre otros.
Aquí no es necesario registrarse para poder navegar en busqueda de las imágenes, durante la realización de este tutorial, en la parte inferior de la página encontramos el siguiente link con el nombre <a class="reference external" href="https://hub.docker.com/explore/">Browse</a>, para navegar entre una gran variedad de <em>imágenes</em>.
Para este tutorial, en la barra de busqueda, introducimos el nombre &quot;whalesay&quot; y al presionar enter, nos traera los resultados que coinciden, en nuesro caso nos enfocaremos en la que diga &quot;docker/whalesay&quot;, al dar click en nombre, nos dara una descripción detallada de la imagen.</p>
<p>Ahora, para hacer uso de esta imágen ejecutamos los siguientes comandos:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker run docker/whalesay cowsay boo
<span class="c1"># Esto dará como resultado lo siguiente:</span>
Unable to find image <span class="s1">&#39;docker/whalesay:latest&#39;</span> locally
 latest: Pulling from docker/whalesay
 e9e06b06e14c: Pull <span class="nb">complete</span>
 a82efea989f9: Pull <span class="nb">complete</span>
 37bea4ee0c81: Pull <span class="nb">complete</span>
 07f8e8c5e660: Pull <span class="nb">complete</span>
 676c4a1897e6: Pull <span class="nb">complete</span>
 5b74edbcaa5b: Pull <span class="nb">complete</span>
 1722f41ddcb5: Pull <span class="nb">complete</span>
 99da72cfe067: Pull <span class="nb">complete</span>
 5d5bd9951e26: Pull <span class="nb">complete</span>
 fb434121fc77: Already exists
 Digest: sha256:d6ee73f978a366cf97974115abe9c4099ed59c6f75c23d03c64446bb9cd49163
 Status: Downloaded newer image <span class="k">for</span> docker/whalesay:latest
  _____
 &lt; boo &gt;
  -----
     <span class="se">\</span>
      <span class="se">\</span>
       <span class="se">\</span>
                     <span class="c1">##        .</span>
               <span class="c1">## ## ##       ==</span>
            <span class="c1">## ## ## ##      ===</span>
        /<span class="s2">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span>___/ <span class="o">===</span>
   ~~~ <span class="o">{</span>~~ ~~~~ ~~~ ~~~~ ~~ ~ /  <span class="o">===</span>- ~~~
        <span class="se">\_</span>_____ o          __/
         <span class="se">\ </span>   <span class="se">\ </span>       __/
           <span class="se">\_</span>___<span class="se">\_</span>_____/
</pre></div>
</div>
<p>En primer lugar, Docker busca de manera local la imágen &quot;whaleasy&quot; y al no encontrarla, la busca en <a class="reference external" href="https://hub.docker.com/">Docker Hub</a>, descargandola y haciendo una instancia de ella.
Si soló queremos descargar alguna imágen basta con hacer lo siguiente:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker pull docker/whalesay
</pre></div>
</div>
<p>Para listar las imagenes con las que contamos, ejecutamos el siguiente comando:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker images
<span class="c1"># Esto dará el siguinte resultado</span>
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
hello-world         latest              c54a2cc56cbb        <span class="m">3</span> months ago        <span class="m">1</span>.848 kB
docker/whalesay     latest              6b362a9f73eb        <span class="m">17</span> months ago       <span class="m">247</span> MB
</pre></div>
</div>
<p>Hasta ahora hemos trabajado con imagenes ya confguradas y listas para usar, pero ¿Qué pasa si queremos customisar nuestra propia imágen?. Pues bien, ahora utilizaremos un sistema base Ubuntu y configuraremos un servidor Apache.
En nuestra consola ejecutamos los siguientes comandos:</p>
<div class="highlight-Bash"><div class="highlight"><pre><span></span>$ mkdir docker_ubunti
$ <span class="nb">cd</span> docker_ubuntu
$ touch DockerFile
</pre></div>
</div>
<p>Contenido de Dockerfie:</p>
<div class="highlight-Bash"><div class="highlight"><pre><span></span><span class="c1"># Indicamos la imagen que utilizaremos como base, en este caso. Ubuntu</span>
FROM ubuntu
<span class="c1"># Indicamos el nombre del autor de la imagen</span>
MAINTAINER User
<span class="c1"># RUN nos ayuda a ejecutar comandos en la imagen base.</span>
RUN apt-get update
RUN apt-get install apache2 -y
RUN <span class="nb">echo</span> <span class="s2">&quot;&lt;h1&gt;Apache with Docker&lt;/h1&gt;&quot;</span> &gt; /var/www/html/index.html
<span class="c1"># Esponemos los puertos que deseamos para ser mapeados al ejecutar el contenedor</span>
EXPOSE <span class="m">80</span>
<span class="c1"># Indica que se ejecute un comando, cada vez que arranquemos el contenedor.</span>
ENTRYPOINT apache2ctl -D FOREGROUND
</pre></div>
</div>
<p>Ahora construiremos nuestra imágen</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker build -t username/apache .
</pre></div>
</div>
<p><strong><em>Nota:</em></strong> <em>username/apache</em> es el identificador para nuestra imágen. Al final de cada line se requiere un <strong>&quot;.&quot;</strong></p>
<p>Para listar las imágenes disponible ejecutamos el siguiente comando:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker images
</pre></div>
</div>
<p>Creamos un contenedor de nuestra imágen:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker run --name apache -d -p <span class="m">90</span>:80 username/apache
</pre></div>
</div>
<p>Es tiempo de realizar una prueba para saber si esta funcionando nuestro servidor, una de ellas es hacerla mediante un navegador web escribiendo lo siguiente:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>http://localhost:90
</pre></div>
</div>
<p>O desde la línea de comandos:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl http://localhost:90
<span class="c1"># Esta será su salida:</span>
&lt;h1&gt;Apache with Docker&lt;/h1&gt;
</pre></div>
</div>
<p>Así es como tenemos ya configurado nuestro servidor Apache y con los puertos redireccionados. pero que pasaría si realizamos cambios y queremos mantenerlos disponibles el algún futuro para realizar algunas otras tareas. Esto se soluciona guardando los cambios en una nueva imágen que podemos utilizar para crear nuevos contenedores.
Esto lo podemos hacer mediante:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>docker commit -m &quot;<span class="p">&lt;</span><span class="nt">comentario</span><span class="p">&gt;</span>&quot; -a &quot;<span class="p">&lt;</span><span class="nt">autor</span><span class="p">&gt;</span>&quot; <span class="p">&lt;</span><span class="nt">id_contenedor</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">nombre_imagen</span><span class="p">&gt;</span>:<span class="p">&lt;</span><span class="nt">etiqueta_imagen</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker commit -m <span class="s2">&quot;modificaciones al contenedor apache&quot;</span> -a <span class="s2">&quot;user&quot;</span> docker-apache user/apache_modificado
</pre></div>
</div>
<p>De esta manera terminamos con el tutorial de introduccion a Docker.</p>
</div>
<div class="section" id="otros-comandos">
<span id="otros-comandos"></span><h3>Otros comandos.<a class="headerlink" href="#otros-comandos" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li>Detener un contenedor</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker stop &lt;contenedor&gt;
</pre></div>
</div>
<ul class="simple">
<li>Eliminar un contenedor</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker rm &lt;contenedor&gt;
</pre></div>
</div>
<ul class="simple">
<li>Eliminar una imagen</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker rmi &lt;imagen&gt;
</pre></div>
</div>
<ul class="simple">
<li>Listar los contenedores activos</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker ps
</pre></div>
</div>
<ul class="simple">
<li>Listar los contenedores activos con detalle</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ docker ps -a
</pre></div>
</div>
<p>Fuentes:
https://docs.docker.com/engine/getstarted/
https://docs.docker.com/engine/reference/commandline/
https://www.adictosaltrabajo.com/tutoriales/docker-for-dummies/
https://docs.joyent.com/public-cloud/instances/connecting/connecting-to-docker</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mysql-conf.html" class="btn btn-neutral float-right" title="Instalación de MySQL en CentOS 7" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="coreos.html" class="btn btn-neutral" title="¿Qué es CoreOS?" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, DADS Infotec.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>