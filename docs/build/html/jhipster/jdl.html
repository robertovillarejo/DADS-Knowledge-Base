

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>JHipster Domain Language (JDL) &mdash; documentación de Base de conocimientos - 0.1</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Índice"
              href="../genindex.html"/>
        <link rel="search" title="Búsqueda" href="../search.html"/>
    <link rel="top" title="documentación de Base de conocimientos - 0.1" href="../index.html"/>
        <link rel="up" title="JHipster" href="index.html"/>
        <link rel="next" title="Spring: documentación en español" href="../spring/index.html"/>
        <link rel="prev" title="Actualizando una aplicación" href="actualizando-una-aplicacion.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Base de conocimientos
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../description.html">Descripción</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">Licencia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about-developer.html">Sobre el Desarrollador</a></li>
</ul>
<p class="caption"><span class="caption-text">JHipster</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">JHipster</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tareas-basicas-jhipster.html">Tareas básicas de JHipster</a></li>
<li class="toctree-l2"><a class="reference internal" href="creando-una-entidad.html">Creando una entidad</a></li>
<li class="toctree-l2"><a class="reference internal" href="creando-un-servicio.html">Creando un servicio</a></li>
<li class="toctree-l2"><a class="reference internal" href="creando-dtos.html">Usando DTO's [BETA]</a></li>
<li class="toctree-l2"><a class="reference internal" href="administrando-relaciones.html">Administrando relaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="internacionalizacion.html">Internacionalización</a></li>
<li class="toctree-l2"><a class="reference internal" href="actualizando-una-aplicacion.html">Actualizando una aplicación</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">JHipster Domain Language (JDL)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#muestra-jdl">Muestra JDL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#como-usarlo">Cómo usarlo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#el-lenguaje">El lenguaje</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#declaracion-de-entidades">Declaración de Entidades</a></li>
<li class="toctree-l4"><a class="reference internal" href="#declaracion-de-relaciones">Declaración de relaciones</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enumeraciones-enum">Enumeraciones (Enum)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#blob-byte">Blob (byte[])</a></li>
<li class="toctree-l4"><a class="reference internal" href="#declaracion-de-opcion">Declaración de opción</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comentando-y-javadoc">Comentando y Javadoc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#todas-las-relaciones">Todas las relaciones</a></li>
<li class="toctree-l4"><a class="reference internal" href="#constantes">Constantes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#anexos">Anexos</a></li>
<li class="toctree-l4"><a class="reference internal" href="#issues-y-bugs">Issues y bugs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Spring</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../spring/index.html">Spring: documentación en español</a></li>
</ul>
<p class="caption"><span class="caption-text">Arquitectura</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arquitectura/index.html">Arquitectura</a></li>
</ul>
<p class="caption"><span class="caption-text">Linux</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../linux/index.html">Linux</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Base de conocimientos</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">JHipster</a> &raquo;</li>
        
      <li>JHipster Domain Language (JDL)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/jhipster/jdl.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="jhipster-domain-language-jdl">
<span id="jhipster-domain-language-jdl"></span><h1>JHipster Domain Language (JDL)<a class="headerlink" href="#jhipster-domain-language-jdl" title="Enlazar permanentemente con este título">¶</a></h1>
<p>JDL es una lenguaje de dominio específico de JHipster donde hemos añadido la posibilidad de describir todas tus entidades y sus relaciones en un único archivo (o más de uno) con una sintaxis simple y amigable con el usuario.</p>
<p>Puedes usar nuestro IDE <em>online</em> <a class="reference external" href="http://www.jhipster.tech/jdl-studio/">JDL-Studio</a> para crear JDL y visualizarlo como UML. También puedes crear y exportar la URL de tu modelo JDL.</p>
<p>Una vez que tengas un proyecto generado (ya sea uno existente o generado con la línea de comando <code class="docutils literal"><span class="pre">jhipster</span></code>), puedes generar las entidades a partir de un archivo JDL usando el sub-generador import-jdl, ejecutando jhipster import-jdl tu-archivo-jdl.jh (asegúrate de ejecutar este comando dentro de la carpeta de tu proyecto JHipster). También puedes generar entidades y exportarlas como un archivo JDL, usando JHipster UML, ejecutando jhipster-uml yu-archivo-xmi.xmi --to-jdl desde la carpeta raíz de tu proyecto JHipster. Para aprender más sobre JHipster UML, e instalarlo, mira la documentación de <a class="reference external" href="http://www.jhipster.tech/jhipster-uml/">JHipster UML</a>.</p>
<p>Esto se puede usar como un reemplazo al uso del sub-generador de entidades. La idea es que es mucho más fácil administrar relaciones usando una herramienta visual que con las clásicas preguntas y respuestas de Yeoman.</p>
<p>El proyecto JDL está <a class="reference external" href="https://github.com/jhipster/jhipster-core/">disponible en Github</a>, es un proyecto <em>Open Source</em> como JHipster (Licencia Apache 2.0). También se puede usar como una biblioteca de Node para <em>parsear</em> JDL.</p>
<p>Si te gustas el Lenguage de Dominio de JHipster, !no olvides darnos una estrella en <a class="reference external" href="https://github.com/jhipster/jhipster-core/">Github</a>! Si te gustas el JDL Studio !no olvides darnos una estrella en <a class="reference external" href="https://github.com/jhipster/jdl-studio/">Github</a>!</p>
<p>Aquí está la documentación completa de JDL:</p>
<ol class="simple">
<li>Muestra JDL</li>
<li>Cómo usarlo</li>
<li>El lenguaje<ol>
<li>Declaración de Entidades</li>
<li>Declaración de Relaciones</li>
<li>Numeraciones</li>
<li>Blobs</li>
<li>Declaración de opciones</li>
<li>Opciones relacionadas con microservicios</li>
</ol>
</li>
<li>Comentando</li>
<li>Todas las relaciones</li>
<li>Constantes</li>
<li>Anexos</li>
<li><em>Issues</em> y <em>bugs</em></li>
</ol>
<div class="section" id="muestra-jdl">
<span id="muestra-jdl"></span><h2>Muestra JDL<a class="headerlink" href="#muestra-jdl" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Se tradujo a JDL la aplicación de muestra &quot;Human Resources&quot; de Oracle y se encuentra disponible <a class="reference external" href="https://github.com/jhipster/jhipster-core/blob/master/lib/dsl/example.jh">aquí</a>. La misma aplicación se carga por defecto en <a class="reference external" href="http://www.jhipster.tech/jdl-studio/">JDL-Studio</a>.</p>
<div class="section" id="como-usarlo">
<span id="como-usarlo"></span><h3>Cómo usarlo<a class="headerlink" href="#como-usarlo" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Si quieres usar JHipster UML en lugar del sub-generador import-jdl necesitas instalarlo ejecutando npm install -g jhipster-uml.</p>
<p>Luego puedes usar archivos JDL para generar entidades:</p>
<ul class="simple">
<li>Simplemente crea un archivo con la extensión '.jh' o '.jdl'</li>
<li>Declara tus entidades y relaciones o créalas y descárgalas con <a class="reference external" href="http://www.jhipster.tech/jdl-studio/">JDL-Studio.</a></li>
<li>En la carpeta raíz de tu aplicación JHipster, ejecuta jhipster import-jdl mi_archivo.jdl o jhipster-uml mi_archivo.jdl_</li>
</ul>
<p>y Voilà, !terminaste!</p>
<p>Si trabajas en equipo, tal vez te gustaría tener múltiples archivos en lugar de uno. Añadimos esta opción para que no tengas que concatenar manualmente todos los archivos en uno, solo tienes que ejecutar jhipster import-jdl mi_archivo1.jh mi_archivo.jh o jhipster-uml mi_archivo.jh mi_archivo.jh._</p>
<p>Si no quieres regenerar tus entidades, mientras importas un JDL, puedes usar la bandera --json-only para omitir la creación de entidades y crear solamente los archivos jhipster en la carpeta .jhipster.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">jhipster</span> <span class="n">import</span><span class="o">-</span><span class="n">jdl</span> <span class="o">./</span><span class="n">mi</span><span class="o">-</span><span class="n">archivo</span><span class="o">-</span><span class="n">jdl</span><span class="o">.</span><span class="n">jdl</span> <span class="o">--</span><span class="n">json</span><span class="o">-</span><span class="n">only</span>
</pre></div>
</div>
<p>Por defecto import-jdl regenera solo entidades que hayan cambiado, si quieres que todas tus entidades se regeneren entonces pasa la bandera --force. Por favor nota que esto sobreescribirá todos tus cambios locales en los archivos de las entidades.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">jhipster</span> <span class="n">import</span><span class="o">-</span><span class="n">jdl</span> <span class="o">./</span><span class="n">mi</span><span class="o">-</span><span class="n">archivo</span><span class="o">-</span><span class="n">jdl</span><span class="o">.</span><span class="n">jdl</span> <span class="o">--</span><span class="n">force</span>
</pre></div>
</div>
<p>Si quieres usarlo en tu proyecto, puedes instalarlo localmente con npm install jhipster-core --save y guardarlo en tu archivo package.json.</p>
</div>
</div>
<div class="section" id="el-lenguaje">
<span id="el-lenguaje"></span><h2>El lenguaje<a class="headerlink" href="#el-lenguaje" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Tratamos de mantener la sintaxis amigable como podemos para los desarrolladores. Puedes hacer tres cosas con él:</p>
<ul class="simple">
<li>Declarar entidades con sus atributos</li>
<li>Declarar las relaciones entre ellas</li>
<li>Y declarar algunas opciones específicas de JHipster</li>
</ul>
<div class="section" id="declaracion-de-entidades">
<span id="declaracion-de-entidades"></span><h3>Declaración de Entidades<a class="headerlink" href="#declaracion-de-entidades" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La declaración de entidades se hace así:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="o">&lt;</span><span class="n">entity</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="n">field</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">validation</span><span class="o">&gt;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>&amp;lt;</p>
entity name<p>&amp;gt;</p>
 es el nombre de la entidad</li>
<li><p>&amp;lt;</p>
field name<p>&amp;gt;</p>
 el nombre de un campo de la entidad</li>
<li><p>&amp;lt;</p>
type<p>&amp;gt;</p>
 el tipo de campo soportado por JHipster</li>
<li>y opcionalmente <p>&amp;lt;</p>
validation<p>&amp;gt;</p>
 para hacer validaciones del campo.</li>
</ul>
<p>Los posibles tipos y validaciones se describen <a class="reference external" href="http://www.jhipster.tech/jdl/#annexes">aquí</a>, si la validación requiere un valor, simplemente añade (<p>&amp;lt;</p>
value<p>&amp;gt;</p>
) a la derecha del nombre de la validación.</p>
<p>Aquí hay un ejemplo de código JDL:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span>
<span class="n">entity</span> <span class="n">B</span>
<span class="n">entity</span> <span class="n">C</span> <span class="p">{}</span>
<span class="n">entity</span> <span class="n">D</span> <span class="p">{</span>
  <span class="n">name</span> <span class="n">String</span> <span class="n">required</span><span class="p">,</span>
  <span class="n">address</span> <span class="n">String</span> <span class="n">required</span> <span class="n">maxlength</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
  <span class="n">age</span> <span class="n">Integer</span> <span class="n">required</span> <span class="nb">min</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Debido a que el JDL se hizo simple de usar y leer, si tu entidad está vacía (no tiene campos), puedes simplemente declarar una entidad con entity A o entity A {}.</p>
<p>Nota que JHipster añade por defecto un campo id así que no tienes que preocuparte por él.</p>
</div>
<div class="section" id="declaracion-de-relaciones">
<span id="declaracion-de-relaciones"></span><h3>Declaración de relaciones<a class="headerlink" href="#declaracion-de-relaciones" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La declaración de relaciones se hace de esta manera:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">relationship</span> <span class="p">(</span><span class="n">OneToMany</span> <span class="o">|</span> <span class="n">ManyToOne</span> <span class="o">|</span> <span class="n">OneToOne</span> <span class="o">|</span> <span class="n">ManyToMany</span><span class="p">)</span> <span class="p">{</span>
  <span class="o">&lt;</span><span class="kn">from</span> <span class="nn">entity</span><span class="o">&gt;</span><span class="p">[{</span><span class="o">&lt;</span><span class="n">relationship</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">[(</span><span class="o">&lt;</span><span class="n">display</span> <span class="n">field</span><span class="o">&gt;</span><span class="p">)]}]</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">to</span> <span class="n">entity</span><span class="o">&gt;</span><span class="p">[{</span><span class="o">&lt;</span><span class="n">relationship</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">[(</span><span class="o">&lt;</span><span class="n">display</span> <span class="n">field</span><span class="o">&gt;</span><span class="p">)]}]</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>(OneToMany | ManyToOne | OneToOne | ManyToMany) es el tipo de tu relación.</li>
<li><p>&amp;lt;</p>
from entity<p>&amp;gt;</p>
 es el nombre de la entidad propietario de la relación: la fuente,</li>
<li><p>&amp;lt;</p>
to entity<p>&amp;gt;</p>
 es el nombre de la entidad a donde se dirige la relación: el destino,</li>
<li><p>&amp;lt;</p>
relationship name<p>&amp;gt;</p>
 es el nombre del campo que tiene el otro extremo como tipo,</li>
<li><p>&amp;lt;</p>
display field<p>&amp;gt;</p>
 es el nombre del campo que debería mostrarse en los <em>select boxes</em> (por defecto es el id),</li>
<li>required si el campo inyectado se requiere o no.</li>
</ul>
<p>Aquí un ejemplo simple:</p>
<p>Un Book tiene un Author el cual es requerido, un Author tiene varios Books.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">Book</span>
<span class="n">entity</span> <span class="n">Author</span>

<span class="n">relationship</span> <span class="n">OneToMany</span> <span class="p">{</span>
  <span class="n">Author</span><span class="p">{</span><span class="n">book</span><span class="p">}</span> <span class="n">to</span> <span class="n">Book</span><span class="p">{</span><span class="n">writer</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="n">required</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Por supuesto, en casos reales, tendrías un montón de relaciones y escribir siempre las mismas tres líneas podría ser tedioso. Es por eso que puedes declarar algo como esto:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span>
<span class="n">entity</span> <span class="n">B</span>
<span class="n">entity</span> <span class="n">C</span>
<span class="n">entity</span> <span class="n">D</span>

<span class="n">relationship</span> <span class="n">OneToOne</span> <span class="p">{</span>
  <span class="n">A</span><span class="p">{</span><span class="n">b</span><span class="p">}</span> <span class="n">to</span> <span class="n">B</span><span class="p">{</span><span class="n">a</span><span class="p">},</span>
  <span class="n">B</span><span class="p">{</span><span class="n">c</span><span class="p">}</span> <span class="n">to</span> <span class="n">C</span>
<span class="p">}</span>
<span class="n">relationship</span> <span class="n">ManyToMany</span> <span class="p">{</span>
  <span class="n">A</span><span class="p">{</span><span class="n">d</span><span class="p">}</span> <span class="n">to</span> <span class="n">D</span><span class="p">{</span><span class="n">a</span><span class="p">},</span>
  <span class="n">C</span><span class="p">{</span><span class="n">d</span><span class="p">}</span> <span class="n">to</span> <span class="n">D</span><span class="p">{</span><span class="n">c</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>La unión siempre se hace usando el campo id el cual también es el campo por defecto que se muestra cuando se edita una relación en el _front-end. _Si se debería mostrar otro campo en lugar de ese, puedes especificarlo así:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span> <span class="p">{</span>
  <span class="n">name</span> <span class="n">String</span> <span class="n">required</span>
<span class="p">}</span>
<span class="n">entity</span> <span class="n">B</span>


<span class="n">relationship</span> <span class="n">OneToOne</span> <span class="p">{</span>
  <span class="n">A</span><span class="p">{</span><span class="n">b</span><span class="p">}</span> <span class="n">to</span> <span class="n">B</span><span class="p">{</span><span class="n">a</span><span class="p">(</span><span class="n">name</span><span class="p">)}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Esto hace que JHipster genere un recurso REST que retorne ambos el id y el nombre de la entidad ligada al _front-end, _así que se muestra al usuario el nombre en lugar del id.</p>
</div>
<div class="section" id="enumeraciones-enum">
<span id="enumeraciones-enum"></span><h3>Enumeraciones (Enum)<a class="headerlink" href="#enumeraciones-enum" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para hacer enumeraciones con JDL solo haz lo siguiente:</p>
<ul class="simple">
<li>Declara un Enum donde quieras en el archivo:</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="n">Language</span> <span class="p">{</span>
    <span class="n">FRENCH</span><span class="p">,</span> <span class="n">ENGLISH</span><span class="p">,</span> <span class="n">SPANISH</span>
  <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>En una entidad, añade campos con el Enum como tipo:</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">Book</span> <span class="p">{</span>
    <span class="n">title</span> <span class="n">String</span> <span class="n">required</span><span class="p">,</span>
    <span class="n">description</span> <span class="n">String</span><span class="p">,</span>
    <span class="n">language</span> <span class="n">Language</span>
  <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="blob-byte">
<span id="blob-byte"></span><h3>Blob (byte[])<a class="headerlink" href="#blob-byte" title="Enlazar permanentemente con este título">¶</a></h3>
<p>JHipster proporciona una magnífica opción que uno puede elegir entre un tipo de imagen o cualquier tipo binario. JDL te permite hacer lo mismo, solo  crea un tipo personalizado (mira DataType) con el editor, nómbralo de acuerdo a estas convenciones:</p>
<ul class="simple">
<li>AnyBlob o solo Blob para crear un campo de cualquier tipo binario</li>
<li>ImageBlob para crear un campo destinado a ser una imagen.</li>
<li>TextBlob para crear un campo para un CLOB (texto largo)</li>
</ul>
<p>Y puedes crear tantos DataTypes como quieras.</p>
</div>
<div class="section" id="declaracion-de-opcion">
<span id="declaracion-de-opcion"></span><h3>Declaración de opción<a class="headerlink" href="#declaracion-de-opcion" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En JHipster, puedes especificar opciones para tus entidades tales como paginación o DTO. Puedes hacer lo mismo con el JDL:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span> <span class="p">{</span>
  <span class="n">name</span> <span class="n">String</span> <span class="n">required</span>
<span class="p">}</span>

<span class="n">entity</span> <span class="n">B</span> <span class="p">{}</span>

<span class="n">entity</span> <span class="n">C</span> <span class="p">{}</span>

<span class="n">dto</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="k">with</span> <span class="n">mapstruct</span>

<span class="n">paginate</span> <span class="n">A</span> <span class="k">with</span> <span class="n">infinite</span><span class="o">-</span><span class="n">scroll</span>
<span class="n">paginate</span> <span class="n">B</span> <span class="k">with</span> <span class="n">pagination</span>
<span class="n">paginate</span> <span class="n">C</span> <span class="k">with</span> <span class="n">pager</span>  <span class="o">//</span> <span class="n">pager</span> <span class="ow">is</span> <span class="n">only</span> <span class="n">available</span> <span class="ow">in</span> <span class="n">AngularJS</span>

<span class="n">service</span> <span class="n">A</span> <span class="k">with</span> <span class="n">serviceClass</span>
<span class="n">service</span> <span class="n">C</span> <span class="k">with</span> <span class="n">serviceImpl</span>
</pre></div>
</div>
<p>Se añadieron a la gramática las palabras clave dto, paginate, service y with para soportar esos cambios. Si se especifica una opción errónea, JDL te lo informará con un bonito mensaje rojo y lo ignorará para no dañar los archivos JSON de JHipster.</p>
<div class="section" id="opcion-service">
<span id="opcion-service"></span><h4>Opción Service<a class="headerlink" href="#opcion-service" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Si no se especifican servicios se creará una clase Resource la cual utilizará directamente la interfaz del Repositorio. Ésta es la opción más simple y por defecto, véase A. Un servicio con una serviceClass (véase B) creará un Resource llame la clase servicio la cual a su vez llamará a la interfaz de Repositorio. Un servicio con serviceImpl (véase C) creará una interfaz de servicio que será usada por la clase Resource. La interfaz es implementada por una clase impl la cual llamará a la interfaz de Repositorio.</p>
<p>No uses servicios si no estás seguro que es la opción más simple y lo mejor para tu CRUD. Usa servicios con una Clase si tendrás mucha lógica de negocio que usará múltiples repositorios, es el escenario ideal para una clase servicio. JHipster no es fan de interfaces innecesarias pero si las prefieres usa servicios con implementaciones.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span> <span class="p">{}</span>
<span class="n">entity</span> <span class="n">B</span> <span class="p">{}</span>
<span class="n">entity</span> <span class="n">C</span> <span class="p">{}</span>

<span class="o">//</span> <span class="n">no</span> <span class="n">service</span> <span class="k">for</span> <span class="n">A</span>
<span class="n">service</span> <span class="n">B</span> <span class="k">with</span> <span class="n">serviceClass</span>
<span class="n">service</span> <span class="n">C</span> <span class="k">with</span> <span class="n">serviceImpl</span>
</pre></div>
</div>
<p>JDL también soporta configuración masiva, es posible hacer:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span>
<span class="n">entity</span> <span class="n">B</span>
<span class="o">...</span>
<span class="n">entity</span> <span class="n">Z</span>

<span class="n">dto</span> <span class="o">*</span> <span class="k">with</span> <span class="n">mapstruct</span>
<span class="n">service</span> <span class="nb">all</span> <span class="k">with</span> <span class="n">serviceImpl</span>
<span class="n">paginate</span> <span class="n">C</span> <span class="k">with</span> <span class="n">pagination</span>
</pre></div>
</div>
<p>Nota que * y all son equivalentes. La última versión introduce exclusiones (que es una poderosa opción cuando estableces opciones para cada entidad):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span>
<span class="n">entity</span> <span class="n">B</span>
<span class="o">...</span>
<span class="n">entity</span> <span class="n">Z</span>

<span class="n">dto</span> <span class="o">*</span> <span class="k">with</span> <span class="n">mapstruct</span> <span class="k">except</span> <span class="n">A</span>
<span class="n">service</span> <span class="nb">all</span> <span class="k">with</span> <span class="n">serviceImpl</span> <span class="k">except</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span>
<span class="n">paginate</span> <span class="n">C</span> <span class="k">with</span> <span class="n">pagination</span>
</pre></div>
</div>
<p>Con JHipster, también puedes indicar si no quieres código cliente, o código servidor. Incluso si deseas añadir un sufijo a los archivos de Angular, puedes hacer eso en JHipster. En tu archivo JDL, simplemente añade estas líneas para hacer lo mismo.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span>
<span class="n">entity</span> <span class="n">B</span>
<span class="n">entity</span> <span class="n">C</span>

<span class="n">skipClient</span> <span class="k">for</span> <span class="n">A</span>
<span class="n">skipServer</span> <span class="k">for</span> <span class="n">B</span>
<span class="n">angularSuffix</span> <span class="o">*</span> <span class="k">with</span> <span class="n">mySuperEntities</span>
</pre></div>
</div>
<p>Por último, también se puede especificar los nombres de las tablas (por defecto se usan los nombres de las entidades):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span> <span class="o">//</span> <span class="n">El</span> <span class="n">nombre</span> <span class="n">de</span> <span class="n">la</span> <span class="n">tabla</span> <span class="n">es</span> <span class="n">A</span>
<span class="n">entity</span> <span class="n">B</span> <span class="p">(</span><span class="n">the_best_entity</span><span class="p">)</span> <span class="o">//</span> <span class="n">El</span> <span class="n">nombre</span> <span class="n">de</span> <span class="n">la</span> <span class="n">tabla</span> <span class="n">es</span> <span class="n">the_best_entity</span>
</pre></div>
</div>
</div>
<div class="section" id="opciones-de-microservicios">
<span id="opciones-de-microservicios"></span><h4>Opciones de microservicios<a class="headerlink" href="#opciones-de-microservicios" title="Enlazar permanentemente con este título">¶</a></h4>
<p>En JHipster v3, puedes crear microservicios. Puedes especificar algunas opciones para generar tus entidades en el JDL: el nombre del microservicio y el motor de búsqueda.</p>
<p>Aquí se muestra cómo puedes especificar el nombre de tus microservicios (el nombre de la aplicación JHipster):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span>
<span class="n">entity</span> <span class="n">B</span>
<span class="n">entity</span> <span class="n">C</span>

<span class="n">microservice</span> <span class="o">*</span> <span class="k">with</span> <span class="n">mysuperjhipsterapp</span> <span class="k">except</span> <span class="n">C</span>
<span class="n">microservice</span> <span class="n">C</span> <span class="k">with</span> <span class="n">myotherjhipsterapp</span>
<span class="n">search</span> <span class="o">*</span> <span class="k">with</span> <span class="n">elasticsearch</span> <span class="k">except</span> <span class="n">C</span>
</pre></div>
</div>
<p>La primera opción se usa para decirle a JHipster que quieres tu microservicio lidie con tus entidades, mientras que la segunda opción especifica cómo y si deseas que tus entidades sean <em>buscables.</em></p>
</div>
</div>
<div class="section" id="comentando-y-javadoc">
<span id="comentando-y-javadoc"></span><h3>Comentando y Javadoc<a class="headerlink" href="#comentando-y-javadoc" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Es posible añadir Javadoc y comentarios a los archivos JDL.</p>
<p>Tal como en Java, este ejemplo demuestra cómo añadir comentarios Javadoc:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>/**
 * Comentarios de clase.
 * @author El equipo de JHipster.
 */
entity MyEntity { // otra forma de comentario
  /** Un atributo requerido */
  myField String required,
  mySecondField String // otra forma de comentario
}

/**
 * Segunda entidad.
 */
entity MySecondEntity {}

relationship OneToMany {
  /** También se puede comentar así! */
  MyEntity{mySecondEntity}
  to
  /**
   * Y así también!
   */
  MySecondEntity{myEntity}
}
</pre></div>
</div>
<p>Estos comentarios posteriormente son añadidos como Javadoc por JHipster.</p>
<p>JDL posee su propio tupo de comentario:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">un</span> <span class="n">comentario</span> <span class="n">ignorado</span>
<span class="o">/**</span> <span class="n">un</span> <span class="n">comentario</span> <span class="n">no</span> <span class="n">ignorado</span>
</pre></div>
</div>
<p>Por lo tanto, cualquier línea que inicie con // es considerada como un comentario interno de JDL y no se contará como Javadoc. Por favor nota que las directivas de JDL Studio que inician con # se ignoran durante el <em>parseo</em>.</p>
<p>Otra forma de comentarios son los siguientes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span> <span class="p">{</span>
  <span class="n">name</span> <span class="n">String</span> <span class="o">/**</span> <span class="n">Mi</span> <span class="nb">super</span> <span class="n">campo</span> <span class="o">*/</span>
  <span class="n">count</span> <span class="n">Integer</span> <span class="o">/**</span> <span class="n">Mi</span> <span class="n">otro</span> <span class="nb">super</span> <span class="n">campo</span> <span class="o">*/</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Aquí el campo <em>name</em> de A se comentará con Mi super campo, B con Mi otro super campo. Sí, las comas no son obligatorias pero es mejor tenerlas para no tener errores en el código. Si deseas mezclar comas y los comentarios siguientes, ten cuidado!</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">A</span> <span class="p">{</span>
  <span class="n">name</span> <span class="n">String</span><span class="p">,</span> <span class="o">/**</span> <span class="n">My</span> <span class="n">comment</span> <span class="o">*/</span>
  <span class="n">count</span> <span class="n">Integer</span>
<span class="p">}</span>
</pre></div>
</div>
<p>El campo name no está comentado, porque el comentario lo tiene el campo count.</p>
</div>
<div class="section" id="todas-las-relaciones">
<span id="todas-las-relaciones"></span><h3>Todas las relaciones<a class="headerlink" href="#todas-las-relaciones" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Explicación sobre cómo crear relaciones con JDL.</p>
<div class="section" id="uno-a-uno">
<span id="uno-a-uno"></span><h4>Uno-a-Uno<a class="headerlink" href="#uno-a-uno" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Una relación bidireccional donde Car tiene un Driver y Driver tiene un Car.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">Driver</span> <span class="p">{}</span>
<span class="n">entity</span> <span class="n">Car</span> <span class="p">{}</span>
<span class="n">relationship</span> <span class="n">OneToOne</span> <span class="p">{</span>
  <span class="n">Car</span><span class="p">{</span><span class="n">driver</span><span class="p">}</span> <span class="n">to</span> <span class="n">Driver</span><span class="p">{</span><span class="n">car</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Un ejemplo unidireccional donde un Citizen tiene un Passport pero el Passport no tiene acceso a su únido dueño.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">Citizen</span> <span class="p">{}</span>
<span class="n">entity</span> <span class="n">Passport</span> <span class="p">{}</span>
<span class="n">relationship</span> <span class="n">OneToOne</span> <span class="p">{</span>
  <span class="n">Citizen</span><span class="p">{</span><span class="n">passport</span><span class="p">}</span> <span class="n">to</span> <span class="n">Passport</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="uno-a-muchos">
<span id="uno-a-muchos"></span><h4>Uno-a-Muchos<a class="headerlink" href="#uno-a-muchos" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Una relación bidireccional donde el Owner tiene ningún, uno o más objectos Car y, Car conoce quién es su propietario.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">Owner</span> <span class="p">{}</span>
<span class="n">entity</span> <span class="n">Car</span> <span class="p">{}</span>
<span class="n">relationship</span> <span class="n">OneToMany</span> <span class="p">{</span>
  <span class="n">Owner</span><span class="p">{</span><span class="n">car</span><span class="p">}</span> <span class="n">to</span> <span class="n">Car</span><span class="p">{</span><span class="n">owner</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Las versiones unidireccionales de esta relación no son soportadas por JHipster, pero sería algo así:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">Owner</span> <span class="p">{}</span>
<span class="n">entity</span> <span class="n">Car</span> <span class="p">{}</span>
<span class="n">relationship</span> <span class="n">OneToMany</span> <span class="p">{</span>
  <span class="n">Owner</span><span class="p">{</span><span class="n">car</span><span class="p">}</span> <span class="n">to</span> <span class="n">Car</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="muchos-a-uno">
<span id="muchos-a-uno"></span><h4>Muchos-a-Uno<a class="headerlink" href="#muchos-a-uno" title="Enlazar permanentemente con este título">¶</a></h4>
<p>La versión recíproca de las relaciones Uno-a-Muchos es la misma que la anterior. La versión unidireccional donde el Car conoce quiénes son sus propietarios:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">Owner</span> <span class="p">{}</span>
<span class="n">entity</span> <span class="n">Car</span> <span class="p">{}</span>
<span class="n">relationship</span> <span class="n">ManyToOne</span> <span class="p">{</span>
  <span class="n">Car</span><span class="p">{</span><span class="n">owner</span><span class="p">}</span> <span class="n">to</span> <span class="n">Owner</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="muchos-a-muchos">
<span id="muchos-a-muchos"></span><h4>Muchos-a-Muchos<a class="headerlink" href="#muchos-a-muchos" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Por último, en este ejemplo tenemos que Car conoce quiénes son sus conductores y, el objeto Driver puede acceder a sus carros.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">entity</span> <span class="n">Driver</span> <span class="p">{}</span>
<span class="n">entity</span> <span class="n">Car</span> <span class="p">{}</span>
<span class="n">relationship</span> <span class="n">ManyToMany</span> <span class="p">{</span>
  <span class="n">Car</span><span class="p">{</span><span class="n">driver</span><span class="p">}</span> <span class="n">to</span> <span class="n">Driver</span><span class="p">{</span><span class="n">car</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Por favor nota que el lado propietario de la relación tiene que estar del lado izquierdo</p>
</div>
</div>
<div class="section" id="constantes">
<span id="constantes"></span><h3>Constantes<a class="headerlink" href="#constantes" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Así como el JHipster Core v1.2.7, JDL soporta constantes numéricas. Aquí un ejemplo:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DEFAULT_MIN_LENGTH</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">DEFAULT_MAX_LENGTH</span> <span class="o">=</span> <span class="mi">42</span>
<span class="n">DEFAULT_MIN_BYTES</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">DEFAULT_MAX_BYTES</span> <span class="o">=</span> <span class="mi">40</span>
<span class="n">DEFAULT_MIN</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">DEFAULT_MAX</span> <span class="o">=</span> <span class="mi">41</span>

<span class="n">entity</span> <span class="n">A</span> <span class="p">{</span>
  <span class="n">name</span> <span class="n">String</span> <span class="n">minlength</span><span class="p">(</span><span class="n">DEFAULT_MIN_LENGTH</span><span class="p">)</span> <span class="n">maxlength</span><span class="p">(</span><span class="n">DEFAULT_MAX_LENGTH</span><span class="p">)</span>
  <span class="n">content</span> <span class="n">TextBlob</span> <span class="n">minbytes</span><span class="p">(</span><span class="n">DEFAULT_MIN_BYTES</span><span class="p">)</span> <span class="n">maxbytes</span><span class="p">(</span><span class="n">DEFAULT_MAX_BYTES</span><span class="p">)</span>
  <span class="n">count</span> <span class="n">Integer</span> <span class="nb">min</span><span class="p">(</span><span class="n">DEFAULT_MIN</span><span class="p">)</span> <span class="nb">max</span><span class="p">(</span><span class="n">DEFAULT_MAX</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="anexos">
<span id="anexos"></span><h3>Anexos<a class="headerlink" href="#anexos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Aquí los tipos soportados por JDL:</p>
<p>| SQL | MongoDB | Cassandra | Validaciones |
| :--- | :--- | :--- | :--- |
| String | String | String | required, minlength, maxlength, pattern |
| Integer | Integer | Integer | required, min, max |
| Long | Long | Long | required, min, max |
| BigDecimal | BigDecimal | BigDecimal | required, min, max |
| Float | Float | Float | required, min, max |
| Double | Double | Double | required, min, max |
| Enum | Enum |  | required |
| Boolean | Boolean | Boolean | required |
| LocalDate | LocalDate |  | required |
|  |  | Date | required |
| ZonedDateTime | ZonedDateTime |  | required |
|  |  | UUID | required |
| Blob | Blob |  | required, minbytes, maxbytes |
| AnyBlob | AnyBlob |  | required, minbytes, maxbytes |
| ImageBlob | ImageBlob |  | required, minbytes, maxbytes |
| TextBlob | TextBlob |  | required, minbytes, maxbytes |
| Instant | Instant | Instant | required |</p>
</div>
<div class="section" id="issues-y-bugs">
<span id="issues-y-bugs"></span><h3>Issues y bugs<a class="headerlink" href="#issues-y-bugs" title="Enlazar permanentemente con este título">¶</a></h3>
<p>JDL está disponible en Github y sigue las mismas líneas de contribución que JHipster.</p>
<p>Por favor usa nuestro proyecto para enviar issues y Pull Requests relacionadas a la propia librería.</p>
<ul class="simple">
<li>Seguidor de problemas (issues) JDL</li>
<li>Pull Requests de JDL</li>
</ul>
<p>Cuando envíes algo, debes ser lo más preciso posible:</p>
<ul class="simple">
<li>**Cada issue publicado debe tener solamente un problema **(o una petición/pregunta)</li>
<li>Los Pull Requests son bienvenidos pero los _commits _deben ser 'atómicos' para ser realmente comprensibles.</li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../spring/index.html" class="btn btn-neutral float-right" title="Spring: documentación en español" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="actualizando-una-aplicacion.html" class="btn btn-neutral" title="Actualizando una aplicación" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, DADS Infotec.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>